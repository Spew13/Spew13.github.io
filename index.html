<!--The United States Computer Fraud besides Abuse Act forbids anyone to enter, change or meddle with a website or digital platform unless the owner gives clear permission. Federal law treats such conduct as a crime and allows both civil and criminal punishment.

Ar or Green Iguana Studios, owner of Spew13, treats every breach as a serious matter. If a person tries to hack, exploit or weaken the site or any digital asset, the company will start legal action at once. Federal plus state statutes allow fines or other money penalties and the company will use those remedies.

Every user and visitor must keep the platform secure but also intact. If unauthorized activity occurs again, the company will take firm legal steps.-->
<!--hi-->

<div id="content-holder" style="width:100%; text-align:center; margin-top:10px;"></div>

<script>
// TODO: maybe move this to a separate function later?
// Fetching data from our jsonbin storage
fetch('https://api.jsonbin.io/v3/b/68e9a13b43b1c97be9622afa/latest', {
  headers: { 
    'X-Master-Key': '$2a$10$UGn2PaD5YfJ1z7c4xo4f4e0WHugS2BMfS4yrYRsDqukqty/V38OBO' 
  }
})
.then(response => response.json())
.then(jsonData => {
  // Extract the base64 encoded HTML - should probably add error handling here
  let encodedHTML = '';
  if(jsonData.record && jsonData.record.html) {
    encodedHTML = jsonData.record.html;
  }
  
  // Clean up whitespace and decode
  const cleanBase64 = encodedHTML.replace(/\s+/g, '');
  const htmlContent = atob(cleanBase64);
  
  // Get our container element
  const containerDiv = document.getElementById('content-holder');
  
  // Create temporary element to parse HTML safely
  const tempElement = document.createElement('div');
  tempElement.innerHTML = htmlContent;
  
  // Style the visitor text if it exists (assuming it's in a p tag)
  const visitorParagraph = tempElement.querySelector('p');
  if(visitorParagraph) {
    visitorParagraph.style.color = 'lime';          // green text looks cool
    visitorParagraph.style.fontWeight = 'bold';
    visitorParagraph.style.fontSize = '1.2em';
  }
  
  // Move all content from temp div to actual container
  while(tempElement.firstChild) {
    containerDiv.appendChild(tempElement.firstChild);
  }
})
.catch(error => {
  // Should probably handle this better, but whatever for now
  console.log('Failed to load content:', error);
});
</script>
